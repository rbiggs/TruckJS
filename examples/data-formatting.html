<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="msapplication-tap-highlight" content="no">
  <title>Data Formatter</title>
  <link rel="stylesheet" href="../dist/styles/truck-ios.css">
  <script src="../dist/truck.js"></script>
<script>
 $(function() {
    var people = [
      {"firstName": "John", "lastName": "Doe", "age": "21"},
      {"firstName": "Tom", "lastName": "Zombie", "age": "27"},
      {"firstName": "Suzzy", "lastName": "Cue", "age": "25"},
      {"firstName": "Joe", "lastName": "Bodoni", "age": "35"},
      {"firstName": "Mike", "lastName": "Miller", "age": "26"},
      {"firstName": "Wobba", "lastName": "Phet", "age": "30"},
      {"firstName": "Tom", "lastName": "Smith", "age": "27"}
    ];
    var printArray = function (a) {
      a.forEach(function(ctx) {
        $('#peeps').append('<li>' + ctx.firstName + " " + ctx.lastName + ", age: " + ctx.age + "</li>");
      });
    };

    var numberData = {
      n1: { 
        description: 'Without decimals',
        formula: '$.formatNumber(9123456789)',
        value: 9123456789
      },
      
      n2: { 
        description: 'With decimals',
        formula: '$.formatNumber(9123456789.2382)',
        value: 9123456789.2382
      },
      
      n3: { 
        description: 'Rounded to Two Deicmals',
        formula: '$.formatNumber(9123456789.2382, ",", 2)',
        value: 9123456789.2382
      },
      
      n4: { 
        description: 'Round to Whole Number',
        formula: '$.formatNumber(9123456789.99, ",", 0)',
        value: 9123456789.99
      }
    };

    // Define Numbers View:
    var NumbersView = $.View({
      element: '#numbers',
      variable: 'number'
    });

    NumbersView.render(numberData);

    var sumData = {
      n1: {
        description: 'Sum an array of numbers',
        formula: '$.sum([1,2,3,4,5,6,7,8,9,10,11.2])',
        value: [1,2,3,4,5,6,7,8,9,10,11.2]
      },
      n2: {
        description: 'Sum of comma separated arguments',
        formula: '$.sum(1,2,3,4,5,6,7,8,9,10,11,12.4)',
        // This is a place holder.
        // Real value is inline in template:
        value: "1,2,3,4,5,6,7,8,9,10,11,12.4"
      }
    };

    // Define Sum View:
    var SumView = $.View({
      element: '#sum',
      variable: 'sum'
    });

    SumView.render(sumData);

    var currencyData = {
      n1: {
        description: '$.currency(9123456789.2382, "€")',
        value: 9123456789.2382
      },
      n2: {
        description: '$.currency(9123456789.99, "$", ",", 0)',
        value: 9123456789.2382
      }
    };

    $.CurrencyView = $.View({
      element: '#currency',
      variable: 'currency'
    });
    $.CurrencyView.render(currencyData);

    // Create Data and Time objects:
    var date = new Date();
    var time = date.toLocaleTimeString();

    // Date:
    $('#date').append('<li><div><h3>var date = new Date()</h3><h4>' + date + '</h4></div></li>');
    $('#date').append('<li><div><h3>date.toLocaleDateString()</h3><h4><strong>' + date.toLocaleDateString() + '</strong></h4><div></li>');

    // Time:
    $('#time').append('<li><div><h3>date.toLocaleTimeString()</h3><h4><strong>' + date.toLocaleTimeString() + '</strong></h4><div></li>');
    $('#time').append('<li><div><h3>$.formatTime(date.toLocaleTimeString())</h3><h4><strong>' + $.formatTime(date.toLocaleTimeString()) + '</strong></h4><div></li>');

});
  </script>
</head>
<body>
<screen id="main" class="current">
  <nav>
      <h1>Data Formatting</h1>
  </nav>
  <section>
    <h2>Numbers</h2>
    <ul id='numbers' class="list">
      <li>
        <div>
          <h3>${ number.n1.description }</h3>
          <h4>${ number.n1.formula }</h4>
          <p>${ $.formatNumber(number.n1.value) }</p>
        </div>
      </li>
      <li>
        <div>
          <h3>${ number.n2.description }</h3>
          <h4>${ number.n2.formula }</h4>
          <p>${ $.formatNumber(number.n2.value) }</p>
        </div>
      </li>
      <li>
        <div>
          <h3>${ number.n3.description }</h3>
          <h4>${ number.n3.formula }</h4>
          <p>${ $.formatNumber(number.n3.value, ",", 2) }</p>
        </div>
      </li>
      <li>
        <div>
          <h3>${ number.n4.description }</h3>
          <h4>${ number.n4.formula }</h4>
          <p>${ $.formatNumber(number.n4.value, ",", 0) }</p>
        </div>
      </li>
    </ul>
    <h2>Sum of numbers</h2>
    <ul id='sum'class='list'>
      <li>
        <div>
          <h3>${ sum.n1.description }</h3>
          <h4>${ sum.n1.formula }</h4>
          <p>${ $.sum(sum.n1.value) }</p>
        </div>
      </li>
      <li>
        <div>
          <h3>${ sum.n2.description }</h3>
          <h4>${ sum.n2.formula }</h4>
          <p>${ $.sum(1,2,3,4,5,6,7,8,9,10,11,12.4) }</p>
        </div>
      </li>
    </ul>
    <h2>Currency</h2>
    <ul id='currency'class='list'>
      <li>
        <div>
          <h3>${ currency.n1.description }</h3>
          <h4>${ $.currency(currency.n1.value, "€") }</h4>
        </div>
      </li>
      <li>
        <div>
          <h3>${ currency.n2.description }</h3>
          <h4>${ $.currency(currency.n2.value, "$", ",", 0) }</h4>
        </div>
      </li>
    </ul>
    <h2>Date</h2>
    <ul id='date'class='list'></ul>
    <h2>Time</h2>
    <ul id='time'class='list'></ul>
  </section>
</screen>
  
</body>
</html>